language: python

python:
  - 3.7

install:
  - pip install -r requirements.txt

before_script:
  - python manage.py makemigrations
  - python manage.py migrate
  - python manage.py collectstatic --noinput

script:
  - black --check .
  - flake8 .
  - coverage run --source=restaurant,user manage.py test

after_script:
  - coveralls

env:
  global:
    - secure: Wo2QhOfUlMgBbb9k/g/yYFGOGPY+rlU7kuJ6wyxxNcQqIjhoJwRtTsqWQkQ5Jgm/OEV1qP/7ZVG3ipBWqZivRP/xs636Uxx/0ywovqinoKx1cEZHsWI8k7/WVPeXbo0X4U2oRHAwrq2zhlIEk15jYPxxh08tKTHxeSngU4QUpR/+KIZIbmF8tGjHLUQWItOrtamxotlM93rEGFH7ryTrWbscH0A9Yvp3Ugbac7dzWSR118V4DtvgqoWdT+TLrDVAgVzkaGtgHprfDTgJ8Wz20qvWpZ+isnlVW+wIDo+WuqjrjW8FFGNaNUoIgVI5+dDkH0tHTlGp/SU+LSKmK4lllJF7WsCXbF6lRSTS64BUOt51xZZlpXT9XShbGOOx0h/koK+7g8kutkUaHUCcxqiVIIlRSJLGVuHypjcTzWHFCQu7jkSZdKCIm9OCmkonefRjAE1XKtd5fqxsWpMdM56FhBjiasdOErHx7C0NeWfQ8iedR/OPYwfg0/MG/NmtRHTaeUWaQ9AntutOPKleG4lfn0vJ1KhdQAjYYHbnIK2jZzlUgH847ZZj/c588ut7CfFIHm1fAHbIiNiMplASMhiOsDuFpt9dbBQ/4oQoJmbdawBCdoOmpyYR8JSKXGSu8mZIPw3fe6fC59O7qxKupkZv0tLtVqhOSTUwWuaYK5+Lc7Q=
